(function(e){function n(n){for(var r,a,u=n[0],i=n[1],s=n[2],l=0,f=[];l<u.length;l++)a=u[l],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&f.push(c[a][0]),c[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);d&&d(n);while(f.length)f.shift()();return o.push.apply(o,s||[]),t()}function t(){for(var e,n=0;n<o.length;n++){for(var t=o[n],r=!0,a=1;a<t.length;a++){var u=t[a];0!==c[u]&&(r=!1)}r&&(o.splice(n--,1),e=i(i.s=t[0]))}return e}var r={},a={app:0},c={app:0},o=[];function u(e){return i.p+"js/"+({about:"about"}[e]||e)+"."+{about:"374495d7","chunk-0a67a50a":"21465fca","chunk-233b6f23":"3427784a","chunk-2433e312":"7c182a62","chunk-28ea899c":"e9a6c03c","chunk-2ff3dcd2":"b990b17f","chunk-4f882296":"023baed9","chunk-4fe8c425":"546d1d17","chunk-5f054134":"2182dac8","chunk-6cf50678":"beff7b00","chunk-ba371916":"d5e238e2"}[e]+".js"}function i(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.e=function(e){var n=[],t={"chunk-0a67a50a":1,"chunk-233b6f23":1,"chunk-2433e312":1,"chunk-28ea899c":1,"chunk-2ff3dcd2":1,"chunk-4f882296":1,"chunk-4fe8c425":1,"chunk-5f054134":1,"chunk-6cf50678":1,"chunk-ba371916":1};a[e]?n.push(a[e]):0!==a[e]&&t[e]&&n.push(a[e]=new Promise((function(n,t){for(var r="css/"+({about:"about"}[e]||e)+"."+{about:"31d6cfe0","chunk-0a67a50a":"bb3ba88f","chunk-233b6f23":"ab011b39","chunk-2433e312":"99007e62","chunk-28ea899c":"e727f440","chunk-2ff3dcd2":"e5ad28d9","chunk-4f882296":"634b69a0","chunk-4fe8c425":"26272712","chunk-5f054134":"db6f9365","chunk-6cf50678":"450e62dc","chunk-ba371916":"1305a3d2"}[e]+".css",c=i.p+r,o=document.getElementsByTagName("link"),u=0;u<o.length;u++){var s=o[u],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===c))return n()}var f=document.getElementsByTagName("style");for(u=0;u<f.length;u++){s=f[u],l=s.getAttribute("data-href");if(l===r||l===c)return n()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=n,d.onerror=function(n){var r=n&&n.target&&n.target.src||c,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete a[e],d.parentNode.removeChild(d),t(o)},d.href=c;var h=document.getElementsByTagName("head")[0];h.appendChild(d)})).then((function(){a[e]=0})));var r=c[e];if(0!==r)if(r)n.push(r[2]);else{var o=new Promise((function(n,t){r=c[e]=[n,t]}));n.push(r[2]=o);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=u(e);var f=new Error;s=function(n){l.onerror=l.onload=null,clearTimeout(d);var t=c[e];if(0!==t){if(t){var r=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;f.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",f.name="ChunkLoadError",f.type=r,f.request=a,t[1](f)}c[e]=void 0}};var d=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(n)},i.m=e,i.c=r,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)i.d(t,r,function(n){return e[n]}.bind(null,r));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=n,s=s.slice();for(var f=0;f<s.length;f++)n(s[f]);var d=l;o.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("cd49")},"64be":function(e,n,t){"use strict";t("c894")},"6e00":function(e,n,t){e.exports=t.p+"img/lupa.76b82b8e.png"},c894:function(e,n,t){},cd49:function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var r=t("7a23");function a(e,n,t,a,c,o){var u=Object(r["x"])("Header"),i=Object(r["x"])("router-view");return Object(r["q"])(),Object(r["d"])(r["a"],null,[Object(r["h"])(u),Object(r["h"])(i)],64)}var c=t("cf05"),o=t.n(c),u=t("6e00"),i=t.n(u),s=Object(r["G"])("data-v-77c96ca0");Object(r["t"])("data-v-77c96ca0");var l={class:"header"},f=Object(r["h"])("img",{src:o.a,alt:"Logo",class:"logo"},null,-1),d=Object(r["h"])("label",{for:"search-bar"},"Pesquisa",-1),h=Object(r["h"])("input",{type:"search",id:"search-bar",name:"search-bar",placeholder:"Algum item interessante"},null,-1),p=Object(r["h"])("button",{type:"submit"},[Object(r["h"])("img",{src:i.a,alt:"Lupa",class:"lupa"})],-1),b=Object(r["g"])("Entrar/Cadastrar-se"),m=Object(r["g"])("Perfil"),g=Object(r["g"])("Carrinho");Object(r["r"])();var v=s((function(e,n,t,a,c,o){var u=Object(r["x"])("router-link");return Object(r["q"])(),Object(r["d"])("div",l,[Object(r["h"])(u,{to:"/"},{default:s((function(){return[f]})),_:1}),Object(r["h"])("form",{onSubmit:n[1]||(n[1]=Object(r["F"])((function(){}),["prevent"]))},[d,h,p],32),e.isLoggedIn?Object(r["e"])("",!0):(Object(r["q"])(),Object(r["d"])(u,{key:0,class:"header-router",to:"/login"},{default:s((function(){return[b]})),_:1})),e.isLoggedIn?(Object(r["q"])(),Object(r["d"])(u,{key:1,class:"header-router",to:"/profile"},{default:s((function(){return[m]})),_:1})):Object(r["e"])("",!0),Object(r["h"])(u,{class:"header-router",to:"/cart"},{default:s((function(){return[g]})),_:1})])})),k=(t("b0c0"),Object(r["i"])({name:"Header",computed:{isLoggedIn:function(){return this.$store.state.user.name}}}));t("de69");k.render=v,k.__scopeId="data-v-77c96ca0";var O=k,j=Object(r["i"])({name:"App",components:{Header:O}});t("64be");j.render=a;var y=j,P=(t("d3b7"),t("6c02")),w=t("bc3a"),_=t.n(w),q=(t("a434"),t("b680"),t("2909")),C=t("b85c"),x=t("5502"),L=Object(x["a"])({state:function(){return{user:{id:null,name:null,email:null,password:null,phone:null,address:null,is_admin:!1},produtos:[],carrinho:[]}},mutations:{signin:function(e,n){e.user.id=n.id,e.user.name=n.name,e.user.email=n.email,e.user.password=n.password,e.user.phone=n.phone,e.user.address=n.address,e.user.is_admin=n.is_admin},signout:function(e){e.user.id=null,e.user.name=null,e.user.email=null,e.user.password=null,e.user.phone=null,e.user.address=null,e.user.is_admin=!1},pushProdutos:function(e,n){var t,r,a=Object(C["a"])(n);try{for(a.s();!(r=a.n()).done;){var c=r.value;c.price=c.price.toFixed(2)}}catch(o){a.e(o)}finally{a.f()}(t=e.produtos).push.apply(t,Object(q["a"])(n))},clearProdutos:function(e){e.produtos=[]},addToCart:function(e,n){for(var t=0;t<e.carrinho.length;t++)if(e.carrinho[t].id===n.id)return e.carrinho[t].quantity++;n.quantity=1,e.carrinho.push(n)},emptyCart:function(e){e.carrinho=[]},removeItemFromCart:function(e,n){for(var t=0;t<e.carrinho.length;t++)if(e.carrinho[t].id===n)return e.carrinho.splice(t,1)},updateQuantity:function(e,n){for(var t=0;t<e.carrinho.length;t++)if(e.carrinho[t].id===n.id)return e.carrinho[t].error="",n.value>e.carrinho[t].stock&&(e.carrinho[t].error="Quantidade excede o estoque"),void(e.carrinho[t].quantity=n.value)}},getters:{cartTotalSum:function(e){for(var n=0,t=0;t<e.carrinho.length;t++)n+=e.carrinho[t].price*e.carrinho[t].quantity;return n.toFixed(2)},cartHasErrors:function(e){var n,t=Object(C["a"])(e.carrinho);try{for(t.s();!(n=t.n()).done;){var r=n.value;return!!r.error}}catch(a){t.e(a)}finally{t.f()}}},actions:{},modules:{}}),A=[{path:"/",name:"Home Page",component:function(){return t.e("chunk-233b6f23").then(t.bind(null,"f4a9"))},meta:{fetchData:!0}},{path:"/about",name:"About",component:function(){return t.e("about").then(t.bind(null,"f820"))}},{path:"/teste",name:"Teste",component:function(){return t.e("chunk-5f054134").then(t.bind(null,"0e97"))}},{path:"/login",name:"Login",component:function(){return t.e("chunk-28ea899c").then(t.bind(null,"48ca"))},meta:{alreadyLoggedIn:!0}},{path:"/signup",name:"Criar Conta",component:function(){return t.e("chunk-2ff3dcd2").then(t.bind(null,"36f9"))},meta:{alreadyLoggedIn:!0}},{path:"/profile",name:"Perfil",component:function(){return t.e("chunk-2433e312").then(t.bind(null,"c66d"))},meta:{requiresAuth:!0}},{path:"/cart",name:"Carrinho",component:function(){return t.e("chunk-4fe8c425").then(t.bind(null,"b789"))}},{path:"/createProduct",name:"Adicionar Produto",component:function(){return t.e("chunk-6cf50678").then(t.bind(null,"c12c"))}},{path:"/payment",name:"Pagamento",component:function(){return t.e("chunk-4f882296").then(t.bind(null,"1175"))},meta:{requiresAuth:!0}},{path:"/checkout",name:"Finalizar Compra",component:function(){return t.e("chunk-ba371916").then(t.bind(null,"7cb4"))},meta:{requiresAuth:!0}},{path:"/:pathMatch(.*)*",name:"Not found",component:function(){return t.e("chunk-0a67a50a").then(t.bind(null,"9703"))}}],E=Object(P["a"])({history:Object(P["b"])("/"),routes:A});E.beforeEach((function(e,n,t){e.meta.alreadyLoggedIn?L.state.user.name?t({name:"Perfil"}):t():e.meta.requiresAuth?L.state.user.name?t():t({name:"Login",query:{redirect:e.fullPath}}):e.meta.fetchData?(L.commit("clearProdutos"),_.a.get("http://localhost:3000/produtos").then((function(e){return L.commit("pushProdutos",e.data)})).catch((function(e){return console.log(e)})),t()):t()}));var S=E;Object(r["c"])(y).use(L).use(S).mount("#app")},cf05:function(e,n,t){e.exports=t.p+"img/logo.a9af2af8.png"},de69:function(e,n,t){"use strict";t("f4b1")},f4b1:function(e,n,t){}});
//# sourceMappingURL=app.3a7c0254.js.map